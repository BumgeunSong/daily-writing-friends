#!/bin/sh

# Set up PATH to include common package manager locations for Git GUI clients
# Add nvm node versions and common binary paths
export PATH="$HOME/.nvm/versions/node/$(ls -t $HOME/.nvm/versions/node 2>/dev/null | head -1)/bin:/usr/local/bin:$HOME/.local/bin:/opt/homebrew/bin:$PATH"

echo "ğŸ” Running TypeScript type check..."
pnpm type-check

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ TypeScript errors found. Push aborted."
  echo "ğŸ’¡ Fix the errors or use 'git push --no-verify' to skip this check."
  exit 1
fi

echo "âœ… TypeScript check passed"
